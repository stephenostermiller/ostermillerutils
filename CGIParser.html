<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta name="description" content="Java libraries to to parse the query data supplied by HTTP GET or POST requests.">
   <meta name="keywords" content="cgi, cgi, cgi, common, gateway, interface, query, query, data, string, string, strings, name, names, value, values, pair, pairs, parse, parser, parses, parsing, token, tokenize, tokenizes, tokenizer, tokenizing, split, splits, urlencode, urlencodes, urlencoded, urldecode, urldecodes, encoded, url, url, get, get, post, post, servlet, servlets, http, http, http, protocol, protocal, java, util, utility, utilities, class, classes, library, libraries, source, code, open source, gpl, lex, lexer, lexing, javadoc, getParameterValues, getParameter, getParameterNames, parameter, parameters, request, dopost, doget, bug, bugs">
   <title>CGI Query String Parser</title>
   <base href="http://ostermiller.org/utils/">
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#0000FF" vlink="#800080" alink="#FF0000">

<h1>CGI Query String Parser</h1>
<p>The servlet implementation that I am using does not parse the CGI name value pairs correctly for either POST or GET requests when there is a large amount of query data.  Luckily, you can parse the query data yourself.  I have written a class to do so.  Its methods for retrieving the name value pairs are identical to the three methods in the http request of the servlet.  The class can be created from the string of the GET request or the stream of the POST request.</p>

<p>
If using this class in servlets, you might use it something like this:<br>
<code><pre>
public void doGet (HttpServletRequest request, HttpServletResponse response)
    throws ServletException, IOException { 
    String query = request.getQueryString();
    doPostGet(request, response, new CGIParser(query==null?"":query));
}

public void doPost(HttpServletRequest request, HttpServletResponse response)
    throws ServletException, IOException {
    doPostGet(request, response, new CGIParser(request.getReader()));
}

private void doPostGet(HttpServletRequest request, HttpServletResponse response, CGIParser params)
    throws ServletException, IOException {
    ...
}
</pre></code>
You would request the parameters from the params object rather than from the request.
</p>

<p>[<a href="./#download">Download /w Source</a> |
<a href="http://www.gjt.org/servlets/JCVSlet/log/gjt/com/Ostermiller/util/CGIParser.java/0">Version History</a> |
<a href="http://www.gjt.org/servlets/JCVSlet/show/gjt/com/Ostermiller/util/CGIParser.java/HEAD">Browse Source</a> |
<a href="http://www.gjt.org/javadoc/com/Ostermiller/util/CGIParser.html">Documentation</a>]</p>

<hr>

<h2><a name="license">License</a></h2>

<P>Copyright (c) 2001 by <a href="mailto:utils@Ostermiller.com">Stephen Ostermiller</a>
(utils@Ostermiller.com)</P>

<p>This library is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published
by the Free Software Foundation; either version 2 of the License or (at
your option) any later version.</P>

<p>This program is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
or FITNESS FOR A PARTICULAR PURPOSE. See the
<a href="http://www.gnu.org/copyleft/gpl.html">GNU General Public License</a> for more details.</p>

</body>
</html>
